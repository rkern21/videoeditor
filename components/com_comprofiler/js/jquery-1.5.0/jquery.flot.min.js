/* Javascript plotting library for jQuery, v. 0.6.
 *
 * Released under the MIT license by IOLA, December 2007.
 *
 */(function(){jQuery.color={},jQuery.color.make=function(a,b,c,d){var e={};e.r=a||0,e.g=b||0,e.b=c||0,e.a=d!=null?d:1,e.add=function(a,b){for(var c=0;c<a.length;++c)e[a.charAt(c)]+=b;return e.normalize()},e.scale=function(a,b){for(var c=0;c<a.length;++c)e[a.charAt(c)]*=b;return e.normalize()},e.toString=function(){return e.a<1?"rgba("+[e.r,e.g,e.b,e.a].join(",")+")":"rgb("+[e.r,e.g,e.b].join(",")+")"},e.normalize=function(){function a(a,b,c){return b<a?a:b>c?c:b}e.r=a(0,parseInt(e.r),255),e.g=a(0,parseInt(e.g),255),e.b=a(0,parseInt(e.b),255),e.a=a(0,e.a,1);return e},e.clone=function(){return jQuery.color.make(e.r,e.b,e.g,e.a)};return e.normalize()},jQuery.color.extract=function(a,b){var c;do{c=a.css(b).toLowerCase();if(c!=""&&c!="transparent")break;a=a.parent()}while(!jQuery.nodeName(a.get(0),"body"));c=="rgba(0, 0, 0, 0)"&&(c="transparent");return jQuery.color.parse(c)},jQuery.color.parse=function(b){var c,d=jQuery.color.make;if(c=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(b))return d(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10));if(c=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(b))return d(parseInt(c[1],10),parseInt(c[2],10),parseInt(c[3],10),parseFloat(c[4]));if(c=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(b))return d(parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55);if(c=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(b))return d(parseFloat(c[1])*2.55,parseFloat(c[2])*2.55,parseFloat(c[3])*2.55,parseFloat(c[4]));if(c=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(b))return d(parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16));if(c=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(b))return d(parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16));var e=jQuery.trim(b).toLowerCase();if(e=="transparent")return d(255,255,255,0);c=a[e];return d(c[0],c[1],c[2])};var a={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(),function(a){function c(a,b){return b*Math.floor(a/b)}function b(b,d,e,f){function bh(b,c,d,e){if(typeof b=="string")return b;var f=m.createLinearGradient(0,d,0,c);for(var g=0,h=b.colors.length;g<h;++g){var i=b.colors[g];typeof i!="string"&&(i=a.color.parse(e).scale("rgb",i.brightness),i.a*=i.opacity,i=i+""),f.addColorStop(g/(h-1),i)}return f}function bg(b,c){n.lineWidth=b.bars.lineWidth,n.strokeStyle=a.color.parse(b.color).scale("a",.5)+"";var d=a.color.parse(b.color).scale("a",.5)+"",e=b.bars.align=="left"?0:-b.bars.barWidth/2;R(c[0],c[1],c[2]||0,e,e+b.bars.barWidth,0,function(){return d},b.xaxis,b.yaxis,n,b.bars.horizontal)}function bf(b,c){var d=c[0],e=c[1],f=b.xaxis,g=b.yaxis;if(!(d<f.min||d>f.max||e<g.min||e>g.max)){var h=b.points.radius+b.points.lineWidth/2;n.lineWidth=h,n.strokeStyle=a.color.parse(b.color).scale("a",.5)+"";var i=1.5*h;n.beginPath(),n.arc(f.p2c(d),g.p2c(e),i,0,2*Math.PI,!1),n.stroke()}}function be(a,b){for(var c=0;c<V.length;++c){var d=V[c];if(d.series==a&&d.point[0]==b[0]&&d.point[1]==b[1])return c}return-1}function bd(a,b){a==null&&b==null&&(V=[],ba()),typeof a=="number"&&(a=g[a]),typeof b=="number"&&(b=a.data[b]);var c=be(a,b);c!=-1&&(V.splice(c,1),ba())}function bc(a,b,c){typeof a=="number"&&(a=g[a]),typeof b=="number"&&(b=a.data[b]);var d=be(a,b);d==-1?(V.push({series:a,point:b,auto:c}),ba()):c||(V[d].auto=!1)}function bb(){W=null,n.save(),n.clearRect(0,0,q,r),n.translate(p.left,p.top);var a,b;for(a=0;a<V.length;++a)b=V[a],b.series.bars.show?bg(b.series,b.point):bf(b.series,b.point);n.restore(),w(u.drawOverlay,[n])}function ba(){W||(W=setTimeout(bb,30))}function _(a,c,d){var e=l.offset(),f={pageX:c.pageX,pageY:c.pageY},g=c.pageX-e.left-p.left,i=c.pageY-e.top-p.top;o.xaxis.used&&(f.x=o.xaxis.c2p(g)),o.yaxis.used&&(f.y=o.yaxis.c2p(i)),o.x2axis.used&&(f.x2=o.x2axis.c2p(g)),o.y2axis.used&&(f.y2=o.y2axis.c2p(i));var j=X(g,i,d);j&&(j.pageX=parseInt(j.series.xaxis.p2c(j.datapoint[0])+e.left+p.left),j.pageY=parseInt(j.series.yaxis.p2c(j.datapoint[1])+e.top+p.top));if(h.grid.autoHighlight){for(var k=0;k<V.length;++k){var m=V[k];m.auto==a&&(!j||m.series!=j.series||m.point!=j.datapoint)&&bd(m.series,m.point)}j&&bc(j.series,j.datapoint,a)}b.trigger(a,[f,j])}function Z(a){_("plotclick",a,function(a){return a.clickable!=!1})}function Y(a){h.grid.hoverable&&_("plothover",a,function(a){return a.hoverable!=!1})}function X(a,b,c){var d=h.grid.mouseActiveRadius,e=d*d+1,f=null,i=!1,j,k;for(j=0;j<g.length;++j){if(!c(g[j]))continue;var l=g[j],m=l.xaxis,n=l.yaxis,o=l.datapoints.points,p=l.datapoints.pointsize,q=m.c2p(a),r=n.c2p(b),s=d/m.scale,t=d/n.scale;if(l.lines.show||l.points.show)for(k=0;k<o.length;k+=p){var u=o[k],v=o[k+1];if(u==null)continue;if(u-q>s||u-q<-s||v-r>t||v-r<-t)continue;var w=Math.abs(m.p2c(u)-a),x=Math.abs(n.p2c(v)-b),y=w*w+x*x;y<=e&&(e=y,f=[j,k/p])}if(l.bars.show&&!f){var z=l.bars.align=="left"?0:-l.bars.barWidth/2,A=z+l.bars.barWidth;for(k=0;k<o.length;k+=p){var u=o[k],v=o[k+1],B=o[k+2];if(u==null)continue;if(g[j].bars.horizontal?q<=Math.max(B,u)&&q>=Math.min(B,u)&&r>=v+z&&r<=v+A:q>=u+z&&q<=u+A&&r>=Math.min(B,v)&&r<=Math.max(B,v))f=[j,k/p]}}}if(f){j=f[0],k=f[1],p=g[j].datapoints.pointsize;return{datapoint:g[j].datapoints.points.slice(k*p,(k+1)*p),dataIndex:k,series:g[j],seriesIndex:j}}return null}function U(){b.find(".legend").remove();if(h.legend.show){var c=[],d=!1,e=h.legend.labelFormatter,f,j;for(i=0;i<g.length;++i){f=g[i],j=f.label;if(!j)continue;i%h.legend.noColumns==0&&(d&&c.push("</tr>"),c.push("<tr>"),d=!0),e&&(j=e(j,f)),c.push('<td class="legendColorBox"><div style="border:1px solid '+h.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+f.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+j+"</td>")}d&&c.push("</tr>");if(c.length==0)return;var k='<table style="font-size:smaller;color:'+h.grid.color+'">'+c.join("")+"</table>";if(h.legend.container!=null)a(h.legend.container).html(k);else{var l="",m=h.legend.position,n=h.legend.margin;n[0]==null&&(n=[n,n]),m.charAt(0)=="n"?l+="top:"+(n[1]+p.top)+"px;":m.charAt(0)=="s"&&(l+="bottom:"+(n[1]+p.bottom)+"px;"),m.charAt(1)=="e"?l+="right:"+(n[0]+p.right)+"px;":m.charAt(1)=="w"&&(l+="left:"+(n[0]+p.left)+"px;");var o=a('<div class="legend">'+k.replace('style="','style="position:absolute;'+l+";")+"</div>").appendTo(b);if(h.legend.backgroundOpacity!=0){var q=h.legend.backgroundColor;q==null&&(q=h.grid.backgroundColor,q&&typeof q=="string"?q=a.color.parse(q):q=a.color.extract(o,"background-color"),q.a=1,q=q+"");var r=o.children();a('<div style="position:absolute;width:'+r.width()+"px;height:"+r.height()+"px;"+l+"background-color:"+q+';"> </div>').prependTo(o).css("opacity",h.legend.backgroundOpacity)}}}}function T(b,c,d,e){var f=b.fill;if(!f)return null;if(b.fillColor)return bh(b.fillColor,d,e,c);var g=a.color.parse(c);g.a=typeof f=="number"?f:.4,g.normalize();return g+""}function S(a){function b(b,c,d,e,f,g,h){var i=b.points,j=b.pointsize;for(var k=0;k<i.length;k+=j){if(i[k]==null)continue;R(i[k],i[k+1],i[k+2],c,d,e,f,g,h,m,a.bars.horizontal)}}m.save(),m.translate(p.left,p.top),m.lineWidth=a.bars.lineWidth,m.strokeStyle=a.color;var c=a.bars.align=="left"?0:-a.bars.barWidth/2,d=a.bars.fill?function(b,c){return T(a.bars,a.color,b,c)}:null;b(a.datapoints,c,c+a.bars.barWidth,0,d,a.xaxis,a.yaxis),m.restore()}function R(a,b,c,d,e,f,g,h,i,j,k){var l,m,n,o,p,q,r,s,t;k?(s=q=r=!0,p=!1,l=c,m=a,o=b+d,n=b+e,m<l&&(t=m,m=l,l=t,p=!0,q=!1)):(p=q=r=!0,s=!1,l=a+d,m=a+e,n=c,o=b,o<n&&(t=o,o=n,n=t,s=!0,r=!1));if(!(m<h.min||l>h.max||o<i.min||n>i.max)){l<h.min&&(l=h.min,p=!1),m>h.max&&(m=h.max,q=!1),n<i.min&&(n=i.min,s=!1),o>i.max&&(o=i.max,r=!1),l=h.p2c(l),n=i.p2c(n),m=h.p2c(m),o=i.p2c(o),g&&(j.beginPath(),j.moveTo(l,n),j.lineTo(l,o),j.lineTo(m,o),j.lineTo(m,n),j.fillStyle=g(n,o),j.fill());if(p||q||r||s)j.beginPath(),j.moveTo(l,n+f),p?j.lineTo(l,o+f):j.moveTo(l,o+f),r?j.lineTo(m,o+f):j.moveTo(m,o+f),q?j.lineTo(m,n+f):j.moveTo(m,n+f),s?j.lineTo(l,n+f):j.moveTo(l,n+f),j.stroke()}}function Q(a){function b(a,b,c,d,e,f,g){var h=a.points,i=a.pointsize;for(var j=0;j<h.length;j+=i){var k=h[j],l=h[j+1];if(k==null||k<f.min||k>f.max||l<g.min||l>g.max)continue;m.beginPath(),m.arc(f.p2c(k),g.p2c(l)+d,b,0,e,!1),c&&(m.fillStyle=c,m.fill()),m.stroke()}}m.save(),m.translate(p.left,p.top);var c=a.lines.lineWidth,d=a.shadowSize,e=a.points.radius;if(c>0&&d>0){var f=d/2;m.lineWidth=f,m.strokeStyle="rgba(0,0,0,0.1)",b(a.datapoints,e,null,f+f/2,Math.PI,a.xaxis,a.yaxis),m.strokeStyle="rgba(0,0,0,0.2)",b(a.datapoints,e,null,f/2,Math.PI,a.xaxis,a.yaxis)}m.lineWidth=c,m.strokeStyle=a.color,b(a.datapoints,e,T(a.points,a.color),0,2*Math.PI,a.xaxis,a.yaxis),m.restore()}function P(a){function c(a,b,c){var d=a.points,e=a.pointsize,f=Math.min(Math.max(0,c.min),c.max),g,h=0,i=!1;for(var j=e;j<d.length;j+=e){var k=d[j-e],l=d[j-e+1],n=d[j],o=d[j+1];if(i&&k!=null&&n==null){m.lineTo(b.p2c(h),c.p2c(f)),m.fill(),i=!1;continue}if(k==null||n==null)continue;if(k<=n&&k<b.min){if(n<b.min)continue;l=(b.min-k)/(n-k)*(o-l)+l,k=b.min}else if(n<=k&&n<b.min){if(k<b.min)continue;o=(b.min-k)/(n-k)*(o-l)+l,n=b.min}if(k>=n&&k>b.max){if(n>b.max)continue;l=(b.max-k)/(n-k)*(o-l)+l,k=b.max}else if(n>=k&&n>b.max){if(k>b.max)continue;o=(b.max-k)/(n-k)*(o-l)+l,n=b.max}i||(m.beginPath(),m.moveTo(b.p2c(k),c.p2c(f)),i=!0);if(l>=c.max&&o>=c.max){m.lineTo(b.p2c(k),c.p2c(c.max)),m.lineTo(b.p2c(n),c.p2c(c.max)),h=n;continue}if(l<=c.min&&o<=c.min){m.lineTo(b.p2c(k),c.p2c(c.min)),m.lineTo(b.p2c(n),c.p2c(c.min)),h=n;continue}var p=k,q=n;l>o||l>=c.min||o<c.min?o<=l&&o<c.min&&l>=c.min&&(n=(c.min-l)/(o-l)*(n-k)+k,o=c.min):(k=(c.min-l)/(o-l)*(n-k)+k,l=c.min),l<o||l<=c.max||o>c.max?o>=l&&o>c.max&&l<=c.max&&(n=(c.max-l)/(o-l)*(n-k)+k,o=c.max):(k=(c.max-l)/(o-l)*(n-k)+k,l=c.max),k!=p&&(l>c.min?g=c.max:g=c.min,m.lineTo(b.p2c(p),c.p2c(g)),m.lineTo(b.p2c(k),c.p2c(g))),m.lineTo(b.p2c(k),c.p2c(l)),m.lineTo(b.p2c(n),c.p2c(o)),n!=q&&(o>c.min?g=c.max:g=c.min,m.lineTo(b.p2c(n),c.p2c(g)),m.lineTo(b.p2c(q),c.p2c(g))),h=Math.max(n,q)}i&&(m.lineTo(b.p2c(h),c.p2c(f)),m.fill())}function b(a,b,c,d,e){var f=a.points,g=a.pointsize,h=null,i=null;m.beginPath();for(var j=g;j<f.length;j+=g){var k=f[j-g],l=f[j-g+1],n=f[j],o=f[j+1];if(k==null||n==null)continue;if(l<=o&&l<e.min){if(o<e.min)continue;k=(e.min-l)/(o-l)*(n-k)+k,l=e.min}else if(o<=l&&o<e.min){if(l<e.min)continue;n=(e.min-l)/(o-l)*(n-k)+k,o=e.min}if(l>=o&&l>e.max){if(o>e.max)continue;k=(e.max-l)/(o-l)*(n-k)+k,l=e.max}else if(o>=l&&o>e.max){if(l>e.max)continue;n=(e.max-l)/(o-l)*(n-k)+k,o=e.max}if(k<=n&&k<d.min){if(n<d.min)continue;l=(d.min-k)/(n-k)*(o-l)+l,k=d.min}else if(n<=k&&n<d.min){if(k<d.min)continue;o=(d.min-k)/(n-k)*(o-l)+l,n=d.min}if(k>=n&&k>d.max){if(n>d.max)continue;l=(d.max-k)/(n-k)*(o-l)+l,k=d.max}else if(n>=k&&n>d.max){if(k>d.max)continue;o=(d.max-k)/(n-k)*(o-l)+l,n=d.max}(k!=h||l!=i)&&m.moveTo(d.p2c(k)+b,e.p2c(l)+c),h=n,i=o,m.lineTo(d.p2c(n)+b,e.p2c(o)+c)}m.stroke()}m.save(),m.translate(p.left,p.top),m.lineJoin="round";var d=a.lines.lineWidth,e=a.shadowSize;if(d>0&&e>0){m.lineWidth=e,m.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;b(a.datapoints,Math.sin(f)*(d/2+e/2),Math.cos(f)*(d/2+e/2),a.xaxis,a.yaxis),m.lineWidth=e/2,b(a.datapoints,Math.sin(f)*(d/2+e/4),Math.cos(f)*(d/2+e/4),a.xaxis,a.yaxis)}m.lineWidth=d,m.strokeStyle=a.color;var g=T(a.lines,a.color,0,t);g&&(m.fillStyle=g,c(a.datapoints,a.xaxis,a.yaxis)),d>0&&b(a.datapoints,0,0,a.xaxis,a.yaxis),m.restore()}function O(a){a.lines.show&&P(a),a.bars.show&&S(a),a.points.show&&Q(a)}function N(){function c(b,c){for(var d=0;d<b.ticks.length;++d){var e=b.ticks[d];if(!e.label||e.v<b.min||e.v>b.max)continue;a.push(c(e,b))}}b.find(".tickLabels").remove();var a=['<div class="tickLabels" style="font-size:smaller;color:'+h.grid.color+'">'],d=h.grid.labelMargin+h.grid.borderWidth;c(o.xaxis,function(a,b){return'<div style="position:absolute;top:'+(p.top+t+d)+"px;left:"+Math.round(p.left+b.p2c(a.v)-b.labelWidth/2)+"px;width:"+b.labelWidth+'px;text-align:center" class="tickLabel">'+a.label+"</div>"}),c(o.yaxis,function(a,b){return'<div style="position:absolute;top:'+Math.round(p.top+b.p2c(a.v)-b.labelHeight/2)+"px;right:"+(p.right+s+d)+"px;width:"+b.labelWidth+'px;text-align:right" class="tickLabel">'+a.label+"</div>"}),c(o.x2axis,function(a,b){return'<div style="position:absolute;bottom:'+(p.bottom+t+d)+"px;left:"+Math.round(p.left+b.p2c(a.v)-b.labelWidth/2)+"px;width:"+b.labelWidth+'px;text-align:center" class="tickLabel">'+a.label+"</div>"}),c(o.y2axis,function(a,b){return'<div style="position:absolute;top:'+Math.round(p.top+b.p2c(a.v)-b.labelHeight/2)+"px;left:"+(p.left+s+d)+"px;width:"+b.labelWidth+'px;text-align:left" class="tickLabel">'+a.label+"</div>"}),a.push("</div>"),b.append(a.join(""))}function M(){var b;m.save(),m.translate(p.left,p.top),h.grid.backgroundColor&&(m.fillStyle=bh(h.grid.backgroundColor,t,0,"rgba(255, 255, 255, 0)"),m.fillRect(0,0,s,t));var c=h.grid.markings;if(c){a.isFunction(c)&&(c=c({xmin:o.xaxis.min,xmax:o.xaxis.max,ymin:o.yaxis.min,ymax:o.yaxis.max,xaxis:o.xaxis,yaxis:o.yaxis,x2axis:o.x2axis,y2axis:o.y2axis}));for(b=0;b<c.length;++b){var d=c[b],e=L(d,"x"),f=L(d,"y");e.from==null&&(e.from=e.axis.min),e.to==null&&(e.to=e.axis.max),f.from==null&&(f.from=f.axis.min),f.to==null&&(f.to=f.axis.max);if(e.to<e.axis.min||e.from>e.axis.max||f.to<f.axis.min||f.from>f.axis.max)continue;e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),f.from=Math.max(f.from,f.axis.min),f.to=Math.min(f.to,f.axis.max);if(e.from==e.to&&f.from==f.to)continue;e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),f.from=f.axis.p2c(f.from),f.to=f.axis.p2c(f.to),e.from==e.to||f.from==f.to?(m.beginPath(),m.strokeStyle=d.color||h.grid.markingsColor,m.lineWidth=d.lineWidth||h.grid.markingsLineWidth,m.moveTo(e.from,f.from),m.lineTo(e.to,f.to),m.stroke()):(m.fillStyle=d.color||h.grid.markingsColor,m.fillRect(e.from,f.to,e.to-e.from,f.from-f.to))}}m.lineWidth=1,m.strokeStyle=h.grid.tickColor,m.beginPath();var g,i=o.xaxis;for(b=0;b<i.ticks.length;++b){g=i.ticks[b].v;if(g<=i.min||g>=o.xaxis.max)continue;m.moveTo(Math.floor(i.p2c(g))+m.lineWidth/2,0),m.lineTo(Math.floor(i.p2c(g))+m.lineWidth/2,t)}i=o.yaxis;for(b=0;b<i.ticks.length;++b){g=i.ticks[b].v;if(g<=i.min||g>=i.max)continue;m.moveTo(0,Math.floor(i.p2c(g))+m.lineWidth/2),m.lineTo(s,Math.floor(i.p2c(g))+m.lineWidth/2)}i=o.x2axis;for(b=0;b<i.ticks.length;++b){g=i.ticks[b].v;if(g<=i.min||g>=i.max)continue;m.moveTo(Math.floor(i.p2c(g))+m.lineWidth/2,-5),m.lineTo(Math.floor(i.p2c(g))+m.lineWidth/2,5)}i=o.y2axis;for(b=0;b<i.ticks.length;++b){g=i.ticks[b].v;if(g<=i.min||g>=i.max)continue;m.moveTo(s-5,Math.floor(i.p2c(g))+m.lineWidth/2),m.lineTo(s+5,Math.floor(i.p2c(g))+m.lineWidth/2)}m.stroke();if(h.grid.borderWidth){var j=h.grid.borderWidth;m.lineWidth=j,m.strokeStyle=h.grid.borderColor,m.strokeRect(-j/2,-j/2,s+j,t+j)}m.restore()}function L(a,b){var c=b+"axis",d=b+"2axis",e,f,g,h;a[c]?(e=o[c],f=a[c].from,g=a[c].to):a[d]?(e=o[d],f=a[d].from,g=a[d].to):(e=o[c],f=a[b+"1"],g=a[b+"2"]);if(f!=null&&g!=null&&f>g)return{from:g,to:f,axis:e};return{from:f,to:g,axis:e}}function K(){m.clearRect(0,0,q,r);var a=h.grid;a.show&&!a.aboveData&&M();for(var b=0;b<g.length;++b)O(g[b]);w(u.draw,[m]),a.show&&a.aboveData&&M()}function J(b,c){b.ticks=[];if(b.used){if(c.ticks==null)b.ticks=b.tickGenerator(b);else if(typeof c.ticks=="number")c.ticks>0&&(b.ticks=b.tickGenerator(b));else if(c.ticks){var d=c.ticks;a.isFunction(d)&&(d=d({min:b.min,max:b.max}));var e,f;for(e=0;e<d.length;++e){var g=null,h=d[e];typeof h=="object"?(f=h[0],h.length>1&&(g=h[1])):f=h,g==null&&(g=b.tickFormatter(f,b)),b.ticks[e]={v:f,label:g}}}c.autoscaleMargin!=null&&b.ticks.length>0&&(c.min==null&&(b.min=Math.min(b.min,b.ticks[0].v)),c.max==null&&b.ticks.length>1&&(b.max=Math.max(b.max,b.ticks[b.ticks.length-1].v)))}}function I(b,d){var e;typeof d.ticks=="number"&&d.ticks>0?e=d.ticks:b==o.xaxis||b==o.x2axis?e=.3*Math.sqrt(q):e=.3*Math.sqrt(r);var f=(b.max-b.min)/e,g,h,i,j,k,l,m;if(d.mode=="time"){var n={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,year:525949.2*60*1e3},p=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"],[3,"month"],[6,"month"],[1,"year"]],s=0;d.minTickSize!=null&&(typeof d.tickSize=="number"?s=d.tickSize:s=d.minTickSize[0]*n[d.minTickSize[1]]);for(k=0;k<p.length-1;++k)if(f<(p[k][0]*n[p[k][1]]+p[k+1][0]*n[p[k+1][1]])/2&&p[k][0]*n[p[k][1]]>=s)break;g=p[k][0],i=p[k][1],i=="year"&&(l=Math.pow(10,Math.floor(Math.log(f/n.year)/Math.LN10)),m=f/n.year/l,m<1.5?g=1:m<3?g=2:m<7.5?g=5:g=10,g*=l),d.tickSize&&(g=d.tickSize[0],i=d.tickSize[1]),h=function(a){var b=[],d=a.tickSize[0],e=a.tickSize[1],f=new Date(a.min),g=d*n[e];e=="second"&&f.setUTCSeconds(c(f.getUTCSeconds(),d)),e=="minute"&&f.setUTCMinutes(c(f.getUTCMinutes(),d)),e=="hour"&&f.setUTCHours(c(f.getUTCHours(),d)),e=="month"&&f.setUTCMonth(c(f.getUTCMonth(),d)),e=="year"&&f.setUTCFullYear(c(f.getUTCFullYear(),d)),f.setUTCMilliseconds(0),g>=n.minute&&f.setUTCSeconds(0),g>=n.hour&&f.setUTCMinutes(0),g>=n.day&&f.setUTCHours(0),g>=n.day*4&&f.setUTCDate(1),g>=n.year&&f.setUTCMonth(0);var h=0,i=Number.NaN,j;do{j=i,i=f.getTime(),b.push({v:i,label:a.tickFormatter(i,a)});if(e=="month")if(d<1){f.setUTCDate(1);var k=f.getTime();f.setUTCMonth(f.getUTCMonth()+1);var l=f.getTime();f.setTime(i+h*n.hour+(l-k)*d),h=f.getUTCHours(),f.setUTCHours(0)}else f.setUTCMonth(f.getUTCMonth()+d);else e=="year"?f.setUTCFullYear(f.getUTCFullYear()+d):f.setTime(i+g)}while(i<a.max&&i!=j);return b},j=function(b,c){var e=new Date(b);if(d.timeformat!=null)return a.plot.formatDate(e,d.timeformat,d.monthNames);var f=c.tickSize[0]*n[c.tickSize[1]],g=c.max-c.min,h=d.twelveHourClock?" %p":"";f<n.minute?fmt="%h:%M:%S"+h:f<n.day?g<2*n.day?fmt="%h:%M"+h:fmt="%b %d %h:%M"+h:f<n.month?fmt="%b %d":f<n.year?g<n.year?fmt="%b":fmt="%b %y":fmt="%y";return a.plot.formatDate(e,fmt,d.monthNames)}}else{var t=d.tickDecimals,u=-Math.floor(Math.log(f)/Math.LN10);t!=null&&u>t&&(u=t),l=Math.pow(10,-u),m=f/l,m<1.5?g=1:m<3?(g=2,m>2.25&&(t==null||u+1<=t)&&(g=2.5,++u)):m<7.5?g=5:g=10,g*=l,d.minTickSize!=null&&g<d.minTickSize&&(g=d.minTickSize),d.tickSize!=null&&(g=d.tickSize),b.tickDecimals=Math.max(0,t!=null?t:u),h=function(a){var b=[],d=c(a.min,a.tickSize),e=0,f=Number.NaN,g;do g=f,f=d+e*a.tickSize,b.push({v:f,label:a.tickFormatter(f,a)}),++e;while(f<a.max&&f!=g);return b},j=function(a,b){return a.toFixed(b.tickDecimals)}}b.tickSize=i?[g,i]:g,b.tickGenerator=h,a.isFunction(d.tickFormatter)?b.tickFormatter=function(a,b){return""+d.tickFormatter(a,b)}:b.tickFormatter=j}function H(a,b){var c=+(b.min!=null?b.min:a.datamin),d=+(b.max!=null?b.max:a.datamax),e=d-c;if(e==0){var f=d==0?1:.01;b.min==null&&(c-=f);if(b.max==null||b.min!=null)d+=f}else{var g=b.autoscaleMargin;g!=null&&(b.min==null&&(c-=e*g,c<0&&a.datamin!=null&&a.datamin>=0&&(c=0)),b.max==null&&(d+=e*g,d>0&&a.datamax!=null&&a.datamax<=0&&(d=0)))}a.min=c,a.max=d}function G(){function e(){var a=h.grid.borderWidth;for(i=0;i<g.length;++i)a=Math.max(a,2*(g[i].points.radius+g[i].points.lineWidth/2));p.left=p.right=p.top=p.bottom=a;var b=h.grid.labelMargin+h.grid.borderWidth;o.xaxis.labelHeight>0&&(p.bottom=Math.max(a,o.xaxis.labelHeight+b)),o.yaxis.labelWidth>0&&(p.left=Math.max(a,o.yaxis.labelWidth+b)),o.x2axis.labelHeight>0&&(p.top=Math.max(a,o.x2axis.labelHeight+b)),o.y2axis.labelWidth>0&&(p.right=Math.max(a,o.y2axis.labelWidth+b)),s=q-p.left-p.right,t=r-p.bottom-p.top}function d(c,d){var e,f=[],g;c.labelWidth=d.labelWidth,c.labelHeight=d.labelHeight;if(c==o.xaxis||c==o.x2axis){c.labelWidth==null&&(c.labelWidth=q/(c.ticks.length>0?c.ticks.length:1));if(c.labelHeight==null){f=[];for(e=0;e<c.ticks.length;++e)g=c.ticks[e].label,g&&f.push('<div class="tickLabel" style="float:left;width:'+c.labelWidth+'px">'+g+"</div>");if(f.length>0){var h=a('<div style="position:absolute;top:-10000px;width:10000px;font-size:smaller">'+f.join("")+'<div style="clear:left"></div></div>').appendTo(b);c.labelHeight=h.height(),h.remove()}}}else if(c.labelWidth==null||c.labelHeight==null){for(e=0;e<c.ticks.length;++e)g=c.ticks[e].label,g&&f.push('<div class="tickLabel">'+g+"</div>");if(f.length>0){var h=a('<div style="position:absolute;top:-10000px;font-size:smaller">'+f.join("")+"</div>").appendTo(b);c.labelWidth==null&&(c.labelWidth=h.width()),c.labelHeight==null&&(c.labelHeight=h.find("div").height()),h.remove()}}c.labelWidth==null&&(c.labelWidth=0),c.labelHeight==null&&(c.labelHeight=0)}function c(a,b){function c(a){return a}var d,e,f=b.transform||c,g=b.inverseTransform;a==o.xaxis||a==o.x2axis?(d=a.scale=s/(f(a.max)-f(a.min)),e=f(a.min),f==c?a.p2c=function(a){return(a-e)*d}:a.p2c=function(a){return(f(a)-e)*d},g?a.c2p=function(a){return g(e+a/d)}:a.c2p=function(a){return e+a/d}):(d=a.scale=t/(f(a.max)-f(a.min)),e=f(a.max),f==c?a.p2c=function(a){return(e-a)*d}:a.p2c=function(a){return(e-f(a))*d},g?a.c2p=function(a){return g(e-a/d)}:a.c2p=function(a){return e-a/d})}var f;for(f in o)H(o[f],h[f]);if(h.grid.show){for(f in o)I(o[f],h[f]),J(o[f],h[f]),d(o[f],h[f]);e()}else p.left=p.right=p.top=p.bottom=0,s=q,t=r;for(f in o)c(o[f],h[f]);h.grid.show&&N(),U()}function F(){l=a([k,j]),h.grid.hoverable&&l.mousemove(Y),h.grid.clickable&&l.click(Z),w(u.bindEvents,[l])}function E(){function c(b,c){var d=document.createElement("canvas");d.width=b,d.height=c,a.browser.msie&&(d=window.G_vmlCanvasManager.initElement(d));return d}q=b.width(),r=b.height(),b.html(""),b.css("position")=="static"&&b.css("position","relative");if(q<=0||r<=0)throw"Invalid dimensions for plot, width = "+q+", height = "+r;a.browser.msie&&window.G_vmlCanvasManager.init_(document),j=a(c(q,r)).appendTo(b).get(0),m=j.getContext("2d"),k=a(c(q,r)).css({position:"absolute",left:0,top:0}).appendTo(b).get(0),n=k.getContext("2d"),n.stroke()}function D(){function s(a,b,c){b<a.datamin&&(a.datamin=b),c>a.datamax&&(a.datamax=c)}var a=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,c,d,e,f,h,i,j,k,l,m,n,p,q,r;for(n in o)o[n].datamin=a,o[n].datamax=b,o[n].used=!1;for(c=0;c<g.length;++c)i=g[c],i.datapoints={points:[]},w(u.processRawData,[i,i.data,i.datapoints]);for(c=0;c<g.length;++c){i=g[c];var t=i.data,v=i.datapoints.format;v||(v=[],v.push({x:!0,number:!0,required:!0}),v.push({y:!0,number:!0,required:!0}),i.bars.show&&v.push({y:!0,number:!0,required:!1,defaultValue:0}),i.datapoints.format=v);if(i.datapoints.pointsize!=null)continue;i.datapoints.pointsize==null&&(i.datapoints.pointsize=v.length),k=i.datapoints.pointsize,j=i.datapoints.points,insertSteps=i.lines.show&&i.lines.steps,i.xaxis.used=i.yaxis.used=!0;for(d=e=0;d<t.length;++d,e+=k){r=t[d];var x=r==null;if(!x)for(f=0;f<k;++f)p=r[f],q=v[f],q&&(q.number&&p!=null&&(p=+p,isNaN(p)&&(p=null)),p==null&&(q.required&&(x=!0),q.defaultValue!=null&&(p=q.defaultValue))),j[e+f]=p;if(x)for(f=0;f<k;++f)p=j[e+f],p!=null&&(q=v[f],q.x&&s(i.xaxis,p,p),q.y&&s(i.yaxis,p,p)),j[e+f]=null;else if(insertSteps&&e>0&&j[e-k]!=null&&j[e-k]!=j[e]&&j[e-k+1]!=j[e+1]){for(f=0;f<k;++f)j[e+k+f]=j[e+f];j[e+1]=j[e-k+1],e+=k}}}for(c=0;c<g.length;++c)i=g[c],w(u.processDatapoints,[i,i.datapoints]);for(c=0;c<g.length;++c){i=g[c],j=i.datapoints.points,k=i.datapoints.pointsize;var y=a,z=a,A=b,B=b;for(d=0;d<j.length;d+=k){if(j[d]==null)continue;for(f=0;f<k;++f){p=j[d+f],q=v[f];if(!q)continue;q.x&&(p<y&&(y=p),p>A&&(A=p)),q.y&&(p<z&&(z=p),p>B&&(B=p))}}if(i.bars.show){var C=i.bars.align=="left"?0:-i.bars.barWidth/2;i.bars.horizontal?(z+=C,B+=C+i.bars.barWidth):(y+=C,A+=C+i.bars.barWidth)}s(i.xaxis,y,A),s(i.yaxis,z,B)}for(n in o)o[n].datamin==a&&(o[n].datamin=null),o[n].datamax==b&&(o[n].datamax=null)}function C(){var b,c=g.length,d=[],e=[];for(b=0;b<g.length;++b){var f=g[b].color;f!=null&&(--c,typeof f=="number"?e.push(f):d.push(a.color.parse(g[b].color)))}for(b=0;b<e.length;++b)c=Math.max(c,e[b]+1);var i=[],j=0;b=0;while(i.length<c){var k;h.colors.length==b?k=a.color.make(100,100,100):k=a.color.parse(h.colors[b]);var l=j%2==1?-1:1;k.scale("rgb",1+l*Math.ceil(j/2)*.2),i.push(k),++b,b>=h.colors.length&&(b=0,++j)}var m=0,n;for(b=0;b<g.length;++b){n=g[b],n.color==null?(n.color=i[m]+"",++m):typeof n.color=="number"&&(n.color=i[n.color]+"");if(n.lines.show==null){var o,p=!0;for(o in n)if(n[o].show){p=!1;break}p&&(n.lines.show=!0)}n.xaxis=B(n,"xaxis"),n.yaxis=B(n,"yaxis")}}function B(a,b){var c=a[b];if(!c||c==1)return o[b];if(typeof c=="number")return o[b.charAt(0)+c+b.slice(1)];return c}function A(b){var c=[];for(var d=0;d<b.length;++d){var e=a.extend(!0,{},h.series);b[d].data?(e.data=b[d].data,delete b[d].data,a.extend(!0,e,b[d]),b[d].data=e.data):e.data=b[d],c.push(e)}return c}function z(a){g=A(a),C(),D()}function y(b){a.extend(!0,h,b),h.grid.borderColor==null&&(h.grid.borderColor=h.grid.color),h.xaxis.noTicks&&h.xaxis.ticks==null&&(h.xaxis.ticks=h.xaxis.noTicks),h.yaxis.noTicks&&h.yaxis.ticks==null&&(h.yaxis.ticks=h.yaxis.noTicks),h.grid.coloredAreas&&(h.grid.markings=h.grid.coloredAreas),h.grid.coloredAreasColor&&(h.grid.markingsColor=h.grid.coloredAreasColor),h.lines&&a.extend(!0,h.series.lines,h.lines),h.points&&a.extend(!0,h.series.points,h.points),h.bars&&a.extend(!0,h.series.bars,h.bars),h.shadowSize&&(h.series.shadowSize=h.shadowSize);for(var c in u)h.hooks[c]&&h.hooks[c].length&&(u[c]=u[c].concat(h.hooks[c]));w(u.processOptions,[h])}function x(){for(var b=0;b<f.length;++b){var c=f[b];c.init(v),c.options&&a.extend(!0,h,c.options)}}function w(a,b){b=[v].concat(b);for(var c=0;c<a.length;++c)a[c].apply(this,b)}var g=[],h={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85},xaxis:{mode:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:.02},x2axis:{autoscaleMargin:null},y2axis:{autoscaleMargin:.02},series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,tickColor:"rgba(0,0,0,0.15)",labelMargin:5,borderWidth:2,borderColor:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},hooks:{}},j=null,k=null,l=null,m=null,n=null,o={xaxis:{},yaxis:{},x2axis:{},y2axis:{}},p={left:0,right:0,top:0,bottom:0},q=0,r=0,s=0,t=0,u={processOptions:[],processRawData:[],processDatapoints:[],draw:[],bindEvents:[],drawOverlay:[]},v=this;v.setData=z,v.setupGrid=G,v.draw=K,v.getPlaceholder=function(){return b},v.getCanvas=function(){return j},v.getPlotOffset=function(){return p},v.width=function(){return s},v.height=function(){return t},v.offset=function(){var a=l.offset();a.left+=p.left,a.top+=p.top;return a},v.getData=function(){return g},v.getAxes=function(){return o},v.getOptions=function(){return h},v.highlight=bc,v.unhighlight=bd,v.triggerRedrawOverlay=ba,v.pointOffset=function(a){return{left:parseInt(B(a,"xaxis").p2c(+a.x)+p.left),top:parseInt(B(a,"yaxis").p2c(+a.y)+p.top)}},v.hooks=u,x(v),y(e),E(),z(d),G(),K(),F();var V=[],W=null}a.plot=function(c,d,e){var f=new b(a(c),d,e,a.plot.plugins);return f},a.plot.plugins=[],a.plot.formatDate=function(a,b,c){var d=function(a){a=""+a;return a.length==1?"0"+a:a},e=[],f=!1,g=a.getUTCHours(),h=g<12;c==null&&(c=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),b.search(/%p|%P/)!=-1&&(g>12?g=g-12:g==0&&(g=12));for(var i=0;i<b.length;++i){var j=b.charAt(i);if(f){switch(j){case"h":j=""+g;break;case"H":j=d(g);break;case"M":j=d(a.getUTCMinutes());break;case"S":j=d(a.getUTCSeconds());break;case"d":j=""+a.getUTCDate();break;case"m":j=""+(a.getUTCMonth()+1);break;case"y":j=""+a.getUTCFullYear();break;case"b":j=""+c[a.getUTCMonth()];break;case"p":j=h?"am":"pm";break;case"P":j=h?"AM":"PM"}e.push(j),f=!1}else j=="%"?f=!0:e.push(j)}return e.join("")}}(jQuery)